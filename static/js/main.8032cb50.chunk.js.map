{"version":3,"sources":["_common/BaseCardBundle/BaseCardBundle.module.css","_services/apolloClientService.ts","_common/AppFooter/AppFooter.tsx","_common/AppHeader/AppHeader.tsx","_services/openSeaService.ts","MainPage/mainPageData.ts","_common/BaseCardBundle/BaseCardBundleMedia.tsx","_common/BaseCardBundle/BaseCardBundle.tsx","MainPage/MainPage.tsx","App.tsx","index.tsx"],"names":["module","exports","httpLink","HttpLink","uri","authMiddleware","ApolloLink","operation","forward","setContext","headers","client","ApolloClient","cache","InMemoryCache","link","concat","AppFooter","className","href","AppHeader","provider","Web3","HttpProvider","seaport","OpenSeaPort","networkName","Network","Main","gql","BaseCardBundleMedia","src","isVideo","endsWith","classNames","clsx","controls","type","alt","BaseCardBundle","data","name","description","assets","firstAsset","secondAsset","undefined","owner","numAssetsMore","Math","max","length","styles","role","ThumbnailsContainer","ThumbnailPrimary","imagePreviewUrl","ThumbnailImg","ThumbnailSecondary","Name","Description","address","MainPage","useState","bundles","setData","error","setError","loading","setLoading","requestData","useCallback","a","openSeaService","api","getBundles","useEffect","useMainPageData","message","map","bundle","index","App","exact","path","ReactDOM","render","StrictMode","apolloClientService","document","getElementById"],"mappings":"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","file":"static/js/main.8032cb50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"BaseCardBundle\":\"BaseCardBundle_BaseCardBundle__1f5Xy\",\"Name\":\"BaseCardBundle_Name__2Y7Rf\",\"Description\":\"BaseCardBundle_Description__2xhOo\",\"ThumbnailsContainer\":\"BaseCardBundle_ThumbnailsContainer__1l1pm\",\"ThumbnailPrimary\":\"BaseCardBundle_ThumbnailPrimary__2sEP6\",\"ThumbnailSecondary\":\"BaseCardBundle_ThumbnailSecondary__3mTxd\",\"ThumbnailImg\":\"BaseCardBundle_ThumbnailImg__26fT4\"};","import { HttpLink, ApolloLink, ApolloClient, InMemoryCache, concat } from '@apollo/client'\n\nconst httpLink = new HttpLink({ uri: 'https://api.opensea.io/graphql' })\n\nconst authMiddleware = new ApolloLink((operation, forward) => {\n  // add the authorization to the headers\n  operation.setContext({\n    headers: {\n      // authorization: localStorage.getItem('token') || null,\n      'x-api-key': '0106d29713754b448f4513d7a66d0875',\n      'x-build-id': 'gA-1NpYxz96R_JcEek0bq',\n    },\n  })\n\n  return forward(operation)\n})\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: concat(authMiddleware, httpLink),\n})\n\n// const client = new ApolloClient({\n//   uri: 'https://api.opensea.io/graphql',\n//   cache: new InMemoryCache(),\n// })\n\nexport default client\n","import React from 'react'\n\nexport const AppFooter = () => {\n  return (\n    <footer className=\"p-3 text-center\">\n      <p className=\"text-white\">\n        <span className=\"text-white text-opacity-70\">Created by Gevorg Harutyunyan</span>{' '}\n        [{' '}\n        <a href=\"https://github.com/modularcoder\" className=\"underline\">\n          @modularcoder\n        </a>{' '}\n        ]\n      </p>\n    </footer>\n  )\n}\n\nexport default AppFooter\n","import React from 'react'\n\nexport const AppHeader = () => {\n  return (\n    <header\n      className=\"\n      mb-6 p-3 w-full\n      sticky top-0\n      bg-white z-50 shadow-md\n    \"\n    >\n      <div className=\"container mx-auto\">\n        <h1 className=\"text-xl font-semibold mb-2 text-shadow text-light-blue-300\">\n          OpenSea.io surfer\n        </h1>\n      </div>\n    </header>\n  )\n}\n\nexport default AppHeader\n","import * as Web3 from 'web3'\nimport { OpenSeaPort, Network } from 'opensea-js'\n\n// This example provider won't let you make transactions, only read-only calls:\nconst provider = new Web3.providers.HttpProvider('https://mainnet.infura.io')\n\nconst seaport = new OpenSeaPort(provider, {\n  networkName: Network.Main,\n})\n\nexport default seaport\n","import { useQuery, gql } from '@apollo/client'\nimport { useState, useEffect, useCallback } from 'react'\nimport openSeaService from '../_services/openSeaService'\n\nimport { OpenSeaAssetBundle } from 'opensea-js/lib/types'\n// import { Category } from '../_types'\n\nexport interface IMainPageData {\n  bundles: OpenSeaAssetBundle[]\n}\n\nexport interface IMainPage {\n  data: IMainPageData\n  error: Error | null\n  loading: Boolean\n}\n\nexport const useMainPageData = (): IMainPage => {\n  const [data, setData] = useState<IMainPageData>({ bundles: [] })\n  const [error, setError] = useState(null)\n  const [loading, setLoading] = useState(false)\n\n  const requestData = useCallback(async () => {\n    setError(null)\n    setLoading(true)\n\n    try {\n      const { bundles } = await openSeaService.api.getBundles()\n\n      setData({ bundles })\n    } catch (err) {\n      setError(err)\n    }\n\n    setLoading(false)\n  }, [])\n\n  useEffect(() => {\n    requestData()\n  }, [requestData])\n\n  return { error, data, loading }\n}\n\n// Try with apollo\n// Unfortunately the server redirects\n\nconst CATEGORIES = gql`\n  query {\n    categories {\n      id\n      imageUrl\n      name\n      slug\n      description\n      shortDescription\n    }\n  }\n`\n\nexport const useMainPageDataFromGraphQL = () => {\n  const { loading, error, data } = useQuery(CATEGORIES)\n\n  return { loading, error, data }\n}\n","import clsx from 'clsx'\nimport React from 'react'\n\nexport interface BaseCardBundleMediaProps {\n  className?: string\n  src: string\n}\n\nexport const BaseCardBundleMedia: React.FC<BaseCardBundleMediaProps> = ({\n  className,\n  src,\n}) => {\n  const isVideo = src && src.endsWith('.mp4')\n  const classNames = clsx(\n    className,\n    'absolute inset-0 w-full h-full object-cover rounded',\n  )\n\n  return (\n    <>\n      {isVideo && (\n        <video controls className={classNames}>\n          <source src={src} type=\"video/mp4\"></source>\n        </video>\n      )}\n      {!isVideo && <img src={src} alt=\"\" className={classNames} />}\n    </>\n  )\n}\n\nexport default BaseCardBundleMedia\n","import clsx from 'clsx'\nimport React from 'react'\nimport { OpenSeaAssetBundle } from 'opensea-js/lib/types'\nimport styles from './BaseCardBundle.module.css'\n\nimport BaseCardBundleMedia from './BaseCardBundleMedia'\n\nexport interface BaseCardBundleProps {\n  data: OpenSeaAssetBundle\n}\n\nexport const BaseCardBundle: React.FC<BaseCardBundleProps> = ({ data }) => {\n  const { name, description, assets } = data\n  const firstAsset = assets[0]\n  const secondAsset = assets[1] || undefined\n  const { owner } = firstAsset\n  const numAssetsMore = Math.max(assets.length - 1, 0)\n\n  return (\n    <div\n      className={clsx(\n        styles.BaseCardBundle,\n        'flex flex-col bg-white text-left w-full h-full rounded-lg shadow-lg mb-8',\n      )}\n      role=\"listitem\"\n    >\n      {/* Content */}\n      <div className=\"flex flex-1 p-4 md:flex-col lg:flex-row\">\n        {/* Thumbnails */}\n        <div\n          className={clsx(\n            styles.ThumbnailsContainer,\n            'flex-none lg:w-40 xl:w-48 relative',\n          )}\n        >\n          <div\n            className={clsx(\n              styles.ThumbnailPrimary,\n              'lg:w-40 xl:w-48 h-32 bg-white shadow-md overflow-hidden rounded relative z-20',\n            )}\n          >\n            <BaseCardBundleMedia\n              src={firstAsset.imagePreviewUrl}\n              className={styles.ThumbnailImg}\n            />\n          </div>\n          <div\n            className={clsx(\n              styles.ThumbnailSecondary,\n              'lg:w-40 xl:w-48 h-32 bg-white shadow-md overflow-hidden rounded absolute top-0 z-0',\n            )}\n          >\n            {numAssetsMore && (\n              <div\n                className=\"\n                  absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\n                  p-2\n                  rounded\n                bg-gray-900 text-white text-sm\n                  whitespace-nowrap\n                  opacity-80\n                  z-10\n                \"\n              >\n                +{numAssetsMore} more assets\n              </div>\n            )}\n            <BaseCardBundleMedia\n              src={secondAsset.imagePreviewUrl}\n              className={styles.ThumbnailImg}\n            />\n          </div>\n        </div>\n        {/* Body */}\n        <div className=\"flex-auto p-6\">\n          <div className=\"flex flex-wrap\">\n            <h3\n              className={clsx(\n                styles.Name,\n                'mb-4 h-14 flex-auto text-lg text-indigo-600 font-semibold break-all',\n              )}\n            >\n              {name}\n            </h3>\n          </div>\n          <p\n            className={clsx(\n              styles.Description,\n              'text-sm text-gray-500 break-all overflow-ellipsis',\n            )}\n          >\n            {description}\n          </p>\n        </div>\n      </div>\n      {/* Footer */}\n      <div\n        className=\"\n          flex flex-grow-0 p-4\n          flex-row\n          justify-between\n          rounded-b-lg\n          bg-gray-600\n        \"\n      >\n        <div className=\"text-white text-opacity-70 text-xs\">Assets: {assets.length}</div>\n        <div className=\"text-white text-opacity-70 text-xs hidden lg:block\">\n          Owner: {owner.address}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useMainPageData } from './mainPageData'\n\nimport { BaseCardBundle } from '../_common/BaseCardBundle/BaseCardBundle'\n\nexport const MainPage = () => {\n  const { loading, error, data } = useMainPageData()\n\n  if (loading) return <p>Loading bundles...</p>\n  if (error) return <p role=\"alert\">Error :( ({error.message})</p>\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\" role=\"list\">\n        {data.bundles.map((bundle, index) => {\n          return (\n            <div key={index} className=\"pb-4\">\n              <BaseCardBundle data={bundle} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default MainPage\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport AppFooter from './_common/AppFooter/AppFooter'\nimport AppHeader from './_common/AppHeader/AppHeader'\n\nimport MainPage from './MainPage/MainPage'\n\nexport const App = () => {\n  return (\n    <Router>\n      <div\n        className=\"\n          App min-h-screen w-full relative flex flex-col\n          text-white\n        \"\n      >\n        <AppHeader />\n        <div className=\"container mx-auto text-center flex flex-col flex-1 p-8 justify-center items-center \">\n          <Switch>\n            <Route exact path=\"/\">\n              <MainPage />\n            </Route>\n            <Route path=\"/asset/:assetId\">\n              <p className=\"text-shadow text-xl\">@ToDo: Single Asset page</p>\n            </Route>\n          </Switch>\n        </div>\n        <AppFooter />\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ApolloProvider } from '@apollo/client/react'\nimport apolloClientService from './_services/apolloClientService'\n\n// Styles\nimport './index.css'\n\n// App component\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={apolloClientService}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}